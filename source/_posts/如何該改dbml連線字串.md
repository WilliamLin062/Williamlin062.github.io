---
title: 如何該改dbml連線字串
date: 2023-06-29 09:50:29
tags:
  - Asp.Net
---
# 動機

之前更改dbml的連線字串都是先新增連接到資料庫在拖曳資料表進設計檔中，讓vs自動該改連線字串到新的資料庫，或者更改app.config的連線字串

但是這兩種方法在把dbml放在單獨的組件中時不起作用，每次重建時都會重製回更改前也無法拖曳資料表到dbml中，於是仔細研究Visual Studio究竟是去哪抓連線字串還有事怎麼新增連線字串的


# 更改方法

Visual Studio將連線字串放置在組件中Properties底下的Settings.settings中

如要更改連線字串首先打開Settings.settings會出現表格文件

{% asset_img  dbmlChangeConnection.png %}

這個文件可以添加應用程式屬性和其他資訊，點選最下方欄位或又見可以新增設定

類型選擇連接字串，若是有其他已經在使用的連接字串請更改使用中的連接字串，VS只會只用當前連接字串會忽視後來新增的，除非有檢測到當前資料表跟資料來源不同才會切換。

點選 '值'欄位最後方會出現編輯選項按鈕點開會出現連接屬性

{% asset_img  dbmlSetting.png %}

填寫完資料庫伺服器資訊後測試連接成功案確定即可新增/該改連接字串。


修改完後記得重建組件重啟應用程式
